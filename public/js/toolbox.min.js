var iflicks=function(){function a(a,b,c,d){var e,f,g,h,i,j,k,l,m,n,o;for(m=document.getElementById(d),n=m.getElementsByTagName("tbody")[0],e=n.getElementsByTagName("tr").length-1;e>-1;e--){for(i=n.rows[e],l=!1,f=a.length-1;f>-1;f--)if(a[f]._id===i.id){c?a.update=!0:a.splice(f,1),l=!0;break}l===!1&&n.removeChild(i)}if(c)for(e=n.getElementsByTagName("tr").length-1;e>-1;e--)for(i=n.rows[e],f=0;f<a.length;f++)if(a[f]._id===i.id){for(i.title!==a[f]&&(i.title=a[f]),g=0;g<i.cells.length;g++){l=!1;for(h in a[f])a[f]._id+h===i.cells[g].id&&(l=!0,a[f][h].toString()!==i.cells[g].textContent&&(i.cells[g].textContent=a[f][h]));l||(i.cells[g].textContent="")}a.splice(f,1)}a.forEach(function(a){i=n.insertRow(0),i.id=a._id,i.title=JSON.stringify(a);for(k in b)void 0===a[b[k].name]?cellText="":cellText=a[b[k].name],j=i.insertCell(-1),j.id=a._id+b[k].name,o=document.createTextNode(cellText),j.appendChild(o)}),m.classList.remove("hide")}function b(a,b){var c,d,e,f,g,h;for(d=document.getElementById(b),e=d.getElementsByTagName("thead")[0],e.classList.add("tableHead");e.firstChild;)e.removeChild(e.firstChild);f=e.insertRow(0);for(c in a)g=f.insertCell(-1),h=document.createTextNode(a[c].value),g.appendChild(h)}function c(c){c.preventDefault(),$.getJSON("/toolbox/errorviewer/0").done(function(c){b(c,"list"),$.getJSON("/toolbox/errorviewer/20").done(function(b){a(b,c,!1,"list")}).fail(function(a){console.log(a)}),clearInterval(f),f=setInterval(function(){$.getJSON("/toolbox/errorviewer/20").done(function(b){a(b,c,!1,"list")}).fail(function(a){console.log(a)})},5e3)}).fail(function(a){console.log(a)})}function d(c){c.preventDefault(),$.getJSON("/toolbox/flickviewercol").done(function(c){b(c,"list"),$.getJSON("/toolbox/flickviewer").done(function(b){a(b,c,!0,"list")}).fail(function(a){console.log(a)}),clearInterval(f),f=setInterval(function(){$.getJSON("/toolbox/flickviewer").done(function(b){a(b,c,!0,"list")}).fail(function(a){console.log(a)})},5e3)}).fail(function(a){console.log(a)})}function e(){document.getElementById("errorviewer").onclick=c,document.getElementById("flickviewer").onclick=d}var f;"undefined"!=typeof document.addEventListener?document.addEventListener("DOMContentLoaded",function(){e()}):e()}();